matrix:
  include:
    - language: php
      sudo: false
      php: 7.3
      cache:
        directories:
          - $HOME/.composer/cache/files
      before_script:
        - composer install
      script:
        - vendor/bin/phpunit -c phpunit.xml --coverage-clover ./build/logs/clover.xml
        - vendor/bin/phpcs --standard=ruleset.xml
      after_success:
        - travis_retry php vendor/bin/php-coveralls

    - language: php
      sudo: false
      php: 7.2
      cache:
        directories:
          - $HOME/.composer/cache/files
      before_script:
        - composer install
      script:
        - vendor/bin/phpunit -c phpunit.xml

    - language: php
      sudo: false
      php: 7.1
      cache:
        directories:
          - $HOME/.composer/cache/files
      before_script:
        - composer install
      script:
        - vendor/bin/phpunit -c phpunit.xml
